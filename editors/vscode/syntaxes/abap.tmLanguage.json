{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "ABAP",
  "scopeName": "source.abap",
  "patterns": [
    { "include": "#comments" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#field-symbols" },
    { "include": "#operators" },
    { "include": "#oop-keywords" },
    { "include": "#control-keywords" },
    { "include": "#declaration-keywords" },
    { "include": "#sql-keywords" },
    { "include": "#builtin-types" },
    { "include": "#constructor-keywords" },
    { "include": "#general-keywords" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.asterisk.abap",
          "match": "^\\*.*$"
        },
        {
          "name": "comment.line.double-quote.abap",
          "match": "\".*$"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.single.abap",
          "match": "'[^']*'"
        },
        {
          "name": "string.template.abap",
          "begin": "\\|",
          "end": "\\|",
          "patterns": [
            {
              "name": "meta.embedded.expression.abap",
              "begin": "\\{",
              "end": "\\}",
              "patterns": [{ "include": "$self" }]
            }
          ]
        },
        {
          "name": "string.quoted.backtick.abap",
          "match": "`[^`]*`"
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.abap",
          "match": "\\b\\d+(\\.\\d+)?\\b"
        }
      ]
    },
    "field-symbols": {
      "patterns": [
        {
          "name": "variable.other.field-symbol.abap",
          "match": "<[a-zA-Z_][a-zA-Z0-9_]*>"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.comparison.abap",
          "match": "(?i)\\b(EQ|NE|LT|GT|LE|GE|CO|CN|CA|NA|CS|NS|CP|NP)\\b"
        },
        {
          "name": "keyword.operator.logical.abap",
          "match": "(?i)\\b(AND|OR|NOT|EQUIV)\\b"
        },
        {
          "name": "keyword.operator.arithmetic.abap",
          "match": "(?i)\\b(MOD|DIV|BIT-AND|BIT-OR|BIT-XOR|BIT-NOT)\\b"
        },
        {
          "name": "keyword.operator.symbol.abap",
          "match": "\\+|-|\\*|/|=|<>|<=|>=|<|>|&&"
        },
        {
          "name": "keyword.operator.assignment.abap",
          "match": "->|=>|~|\\?="
        }
      ]
    },
    "oop-keywords": {
      "patterns": [
        {
          "name": "storage.type.class.abap",
          "match": "(?i)\\b(CLASS|ENDCLASS|INTERFACE|ENDINTERFACE)\\b"
        },
        {
          "name": "storage.type.method.abap",
          "match": "(?i)\\b(METHOD|ENDMETHOD|METHODS|CLASS-METHODS)\\b"
        },
        {
          "name": "storage.modifier.abap",
          "match": "(?i)\\b(PUBLIC|PROTECTED|PRIVATE|ABSTRACT|FINAL|INHERITING\\s+FROM|REDEFINITION|FRIENDS|DEFINITION|IMPLEMENTATION|SECTION|CREATE\\s+PUBLIC|CREATE\\s+PROTECTED|CREATE\\s+PRIVATE)\\b"
        },
        {
          "name": "keyword.other.oop.abap",
          "match": "(?i)\\b(INTERFACES|ALIASES|EVENTS|CLASS-EVENTS|CREATE\\s+OBJECT|SET\\s+HANDLER|RAISE\\s+EVENT)\\b"
        }
      ]
    },
    "control-keywords": {
      "patterns": [
        {
          "name": "keyword.control.conditional.abap",
          "match": "(?i)\\b(IF|ELSEIF|ELSE|ENDIF|CASE|WHEN|ENDCASE|CASE\\s+TYPE\\s+OF)\\b"
        },
        {
          "name": "keyword.control.loop.abap",
          "match": "(?i)\\b(DO|ENDDO|WHILE|ENDWHILE|LOOP|ENDLOOP|CONTINUE|EXIT|CHECK)\\b"
        },
        {
          "name": "keyword.control.exception.abap",
          "match": "(?i)\\b(TRY|CATCH|CLEANUP|ENDTRY|RAISE|RAISE\\s+EXCEPTION|RETRY|RESUME)\\b"
        },
        {
          "name": "keyword.control.flow.abap",
          "match": "(?i)\\b(RETURN|STOP|LEAVE|LEAVE\\s+PROGRAM)\\b"
        }
      ]
    },
    "declaration-keywords": {
      "patterns": [
        {
          "name": "storage.type.abap",
          "match": "(?i)\\b(DATA|CLASS-DATA|TYPES|CONSTANTS|STATICS|FIELD-SYMBOLS|PARAMETERS|SELECT-OPTIONS|TABLES|TYPE-POOLS)\\b"
        },
        {
          "name": "keyword.other.type-spec.abap",
          "match": "(?i)\\b(TYPE|TYPE\\s+TABLE\\s+OF|TYPE\\s+REF\\s+TO|TYPE\\s+RANGE\\s+OF|TYPE\\s+LINE\\s+OF|LIKE|LIKE\\s+TABLE\\s+OF|LIKE\\s+REF\\s+TO|BEGIN\\s+OF|END\\s+OF|VALUE|READ-ONLY|OBLIGATORY|DEFAULT|AS\\s+CHECKBOX|RADIOBUTTON\\s+GROUP)\\b"
        },
        {
          "name": "keyword.other.declaration.abap",
          "match": "(?i)\\b(IMPORTING|EXPORTING|CHANGING|RETURNING|USING|RAISING|EXCEPTIONS)\\b"
        }
      ]
    },
    "sql-keywords": {
      "patterns": [
        {
          "name": "keyword.other.sql.abap",
          "match": "(?i)\\b(SELECT|ENDSELECT|UPDATE|INSERT\\s+INTO|DELETE\\s+FROM|MODIFY|FROM|WHERE|INTO|TABLE|APPENDING|CORRESPONDING\\s+FIELDS\\s+OF|ORDER\\s+BY|GROUP\\s+BY|HAVING|INNER\\s+JOIN|LEFT\\s+OUTER\\s+JOIN|FOR\\s+ALL\\s+ENTRIES\\s+IN|UP\\s+TO|ROWS|SINGLE|DISTINCT|AS|ON|OPEN\\s+CURSOR|FETCH|CLOSE\\s+CURSOR|COMMIT\\s+WORK|ROLLBACK\\s+WORK)\\b"
        },
        {
          "name": "support.function.sql.abap",
          "match": "(?i)\\b(COUNT|SUM|AVG|MIN|MAX|CONCAT|SUBSTRING|LENGTH|REPLACE|UPPER|LOWER|LEFT|RIGHT|LTRIM|RTRIM|LPAD|RPAD|CAST|COALESCE|CASE|WHEN|THEN|ELSE|END)\\b"
        }
      ]
    },
    "builtin-types": {
      "patterns": [
        {
          "name": "support.type.builtin.abap",
          "match": "(?i)\\b(abap_bool|abap_true|abap_false|abap_undefined|sy|syst|i|int8|f|p|c|n|d|t|x|string|xstring|decfloat16|decfloat34|utclong|any|clike|csequence|numeric|xsequence|simple|data|object)\\b"
        },
        {
          "name": "constant.language.abap",
          "match": "(?i)\\b(space|is\\s+initial|is\\s+not\\s+initial|is\\s+assigned|is\\s+bound|is\\s+instance\\s+of|is\\s+supplied|is\\s+requested|between)\\b"
        }
      ]
    },
    "constructor-keywords": {
      "patterns": [
        {
          "name": "keyword.other.constructor.abap",
          "match": "(?i)\\b(NEW|VALUE|REF|CONV|CAST|EXACT|CORRESPONDING|COND|SWITCH|FILTER|REDUCE|LET|FOR|IN|THEN|UNTIL|INIT|NEXT)\\b"
        }
      ]
    },
    "general-keywords": {
      "patterns": [
        {
          "name": "keyword.control.abap",
          "match": "(?i)\\b(REPORT|PROGRAM|FUNCTION-POOL|CLASS-POOL|INTERFACE-POOL|TYPE-POOL|INCLUDE|FORM|ENDFORM|PERFORM|FUNCTION|ENDFUNCTION|MODULE|ENDMODULE|DEFINE|END-OF-DEFINITION|CALL\\s+FUNCTION|CALL\\s+METHOD|CALL\\s+TRANSACTION|CALL\\s+SCREEN|CALL\\s+TRANSFORMATION|SUBMIT)\\b"
        },
        {
          "name": "keyword.other.abap",
          "match": "(?i)\\b(WRITE|ULINE|SKIP|NEW-LINE|NEW-PAGE|FORMAT|SET\\s+PF-STATUS|SET\\s+TITLEBAR|SET\\s+SCREEN|LEAVE\\s+SCREEN|SELECTION-SCREEN|MESSAGE|AUTHORITY-CHECK|EXPORT|IMPORT|SET\\s+PARAMETER|GET\\s+PARAMETER|ASSERT|BREAK-POINT|LOG-POINT)\\b"
        },
        {
          "name": "keyword.other.event.abap",
          "match": "(?i)\\b(INITIALIZATION|START-OF-SELECTION|END-OF-SELECTION|TOP-OF-PAGE|END-OF-PAGE|AT\\s+LINE-SELECTION|AT\\s+USER-COMMAND|AT\\s+SELECTION-SCREEN|LOAD-OF-PROGRAM)\\b"
        },
        {
          "name": "keyword.other.table-ops.abap",
          "match": "(?i)\\b(APPEND|INSERT|MODIFY|DELETE|READ\\s+TABLE|SORT|COLLECT|CLEAR|FREE|REFRESH|DESCRIBE\\s+TABLE|ASSIGN|UNASSIGN|ASSIGNING|REFERENCE\\s+INTO|ASCENDING|DESCENDING|INDEX|TRANSPORTING|COMPARING)\\b"
        },
        {
          "name": "keyword.other.string-ops.abap",
          "match": "(?i)\\b(CONCATENATE|SPLIT|FIND|REPLACE|SEARCH|CONDENSE|TRANSLATE|SHIFT|OVERLAY|SEPARATED\\s+BY|INTO|AT|ALL\\s+OCCURRENCES\\s+OF|FIRST\\s+OCCURRENCE\\s+OF)\\b"
        },
        {
          "name": "keyword.other.assignment.abap",
          "match": "(?i)\\b(MOVE|MOVE-CORRESPONDING|COMPUTE|ADD|SUBTRACT|MULTIPLY|DIVIDE|GET\\s+REFERENCE)\\b"
        }
      ]
    }
  }
}
